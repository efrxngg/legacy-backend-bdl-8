# Define el nivel general de logging y especifica que manejadores usar
logger.level=INFO
logger.handlers=FILE

# Configura el manejador de archivos que permite rotacion por tamaño y tiempo
handler.FILE=org.jboss.logmanager.handlers.PeriodicSizeRotatingFileHandler
# Establece el nivel minimo de mensajes que este manejador procesara
handler.FILE.level=INFO
# Especifica el formateador que dara estructura a los mensajes de log
handler.FILE.formatter=PATTERN
# Lista de propiedades configurables para este manejador
handler.FILE.properties=autoFlush,append,fileName,suffix,rotateSize,maxBackupIndex
# Propiedades requeridas al crear una nueva instancia del manejador
handler.FILE.constructorProperties=fileName,append
# Habilita la escritura inmediata al archivo sin buffering
handler.FILE.autoFlush=true
# Permite agregar nuevos logs al final del archivo existente
handler.FILE.append=true
# Ruta y nombre del archivo de log
handler.FILE.fileName=${jboss.server.log.dir}/demo.log
# Formato del sufijo para los archivos rotados por fecha
handler.FILE.suffix=.yyyy-MM-dd
# Tamaño maximo del archivo antes de rotar (10MB)
handler.FILE.rotateSize=10000000
# Numero maximo de archivos historicos a mantener
handler.FILE.maxBackupIndex=100000

# Configuracion del formateador principal que define como se estructuran los mensajes
formatter.PATTERN=org.jboss.logmanager.formatters.PatternFormatter
formatter.PATTERN.properties=pattern
# Patron que define el formato de cada linea de log incluyendo timestamp, nivel, clase, IDs de rastreo y mensaje
#formatter.PATTERN.pattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p[demo][%c.%M][trxId=%X{traceId} spxId=%X{spanId}] [%t] %s%e%n
formatter.PATTERN.pattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p[demo][%.-10t][trxId=%X{traceId} spxId=%X{spanId}][%c{1.}.%M] %s%e%n

# Formateador alternativo mas simple (comentado)
#formatter.PATTERN=org.jboss.logmanager.formatters.PatternFormatter
#formatter.PATTERN.properties=pattern
#formatter.PATTERN.pattern=%d{yyyy-MM-dd HH\:mm\:ss,SSS} %-5p [%c] (%t) %s%e%n

# Formateador especial para salida en consola con colores
formatter.COLOR-PATTERN=org.jboss.logmanager.formatters.PatternFormatter
formatter.COLOR-PATTERN.properties=pattern
formatter.COLOR-PATTERN.pattern=%K{level}%d{HH\:mm\:ss,SSS} %-5p [%c] (%t) %s%e%n
